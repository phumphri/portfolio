<!DOCTYPE html>

{% extends "base.html" %}

{% block head %}
{{ super() }}


<script src="https://d3js.org/d3.v6.min.js" charset="utf-8"></script>

<meta name="viewport" content="width=device-width, initial-scale=1">

{% endblock %}

{% block title %}National Debt{% endblock %}

{% block body %}
{{ super() }}
<script>
    // Define global variable dataset
    dataset = []
    year = 2020
    years = []
    resize = true
    svgRow = {}
    svgRow.width = 500
    svgRow.height = 500
    svg = null
    annual_debt = []
    topMargin = 1 - 0.05
    leftMargin = 0.05
    rightMargin = 0.05
    bottomMargin = 1.00 - 0.05
    scale_year = null
    scaleDebt = null
    xAxis = d3.axisBottom()
    yAxis = d3.axisRight()
    yAxisScale = null
    begin_year = 2009
    end_year = 2020
    years = []



    // Define SVG attributes.
    var w = 500;
    var h = 500;
    // var baseline = h
    var padding = 2;        // Add spaces around the bars.

    // Get Historical Debt Outstanding Annual Years.
    function get_historical_debt_outstanding_annual_years() {

        console.log("get_historical_debt_outstanding_annual_years()")

        var xmlhttp = new XMLHttpRequest()
        host = "http://localhost"
        port = ":5000"
        end_point = "/historical_debt_outstanding_annual_years"
        url = host + port + end_point
        url = end_point
        console.log("url:", url)


        // Build the SVG when a valid response is returned.
        xmlhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                years = JSON.parse(this.responseText);
            }
        };

        // Send the request and wait for the valid response.
        xmlhttp.open("GET", url, true);
        xmlhttp.send();
    }


    // Get Historical Debt Outstanding Annual.
    function get_historical_debt_outstanding_annual() {

        console.log("get_historical_debt_outstanding_annual")

        var xmlhttp = new XMLHttpRequest()
        host = "http://localhost"
        port = ":5000"
        end_point = "/historical_debt_outstanding_annual"
        begin_year_parameter = "?begin_year=" + begin_year
        end_year_parameter = "&end_year=" + end_year
        url = host + port + end_point + begin_year_parameter + end_year_parameter
        url = end_point + begin_year_parameter + end_year_parameter
        console.log("url:", url)


        // Build the SVG when a valid response is returned.
        xmlhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                data = JSON.parse(this.responseText);
                dataset = []

                // Convert the volume strings to type integer.
                // Conver the date string to type date.
                for (var i = 0; i < data.length; i++) {
                    dataset[i] = {}
                    dataset[i]["year"] = parseInt(data[i]["reporting_calendar_year"])
                    dataset[i]["president"] = data[i]["president"]
                    dataset[i]["color"] = data[i]["color"]
                    var o = parseInt(data[i]["debt_outstanding_amt"])
                    if (end_year < "1863") {
                        o = o / 1000000
                    } else if (end_year < "1983") {
                        o = o / 1000000000
                    } else {
                        o = o / 1000000000000
                    }
                    dataset[i]["debt"] = parseInt(o)
                }
                if (resize) {
                    createSVG()
                } else {
                    updateSVG()
                }
            }
        };

        // Send the request and wait for the valid response.
        xmlhttp.open("GET", url, true);
        xmlhttp.send();
    }

    function create_annual_debt() {

        // Initialize monthly sales.
        annual_debt = []

        // Calculate the vertical scale based on sales volume and row height.
        var maxDebt = d3.max(dataset, function (d) { return d["debt"] })
        var minDebt = d3.min(dataset, function (d) { return d["debt"] })
        scaleDebt = d3.scaleLinear()
            .domain([0, maxDebt])
            .rangeRound([0, (svgRow.height * topMargin)])
        yAxisScale = d3.scaleLinear()
            .domain([0, maxDebt])
            .rangeRound([(svgRow.height * topMargin), 0])

        // Calculate the horizontal scale based on year and row width.
        // Last date would be positioned at the edge of the svg.
        // By reducing the svgRow width by one datum, the last bar will be in the svg.
        var maxYear = d3.max(dataset, function (d) { return d["year"] })
        var minYear = d3.min(dataset, function (d) { return d["year"] })
        var leftMarginWidth = svgRow.width * leftMargin
        var rightMarginWidth = svgRow.width * rightMargin
        scale_year = d3.scaleLinear()
            .domain([minYear, maxYear])
            .rangeRound([leftMarginWidth, (svgRow.width * (dataset.length / (dataset.length + 1))) - rightMarginWidth])

        for (var i = 0; i < dataset.length; i++) {

            // Create datum of annual debt.
            var d = {}

            // Bar dimensions
            // Height is used to draw a rectangle from y DOWN.
            // y is the top of the rectangle:  Bottom of the chart then up by the height.
            // The bottomMargin shrinks the bars up from the bottom of the svg.
            d.width = parseInt((svgRow.width / dataset.length * 0.8).toFixed(0))
            d.height = parseInt((scaleDebt(dataset[i]["debt"]) * bottomMargin).toFixed(0))
            d.x = parseInt(scale_year(dataset[i]["year"]).toFixed(0))
            d.y = (500 * bottomMargin) - d.height;
            d.president = dataset[i]["president"]
            d.color = dataset[i]["color"]

            // Bar text
            d.text_x = d.x + d.width / 2;
            d.text = dataset[i]["debt"]

            // Horizontal sales date 
            d.year_x = parseInt(scale_year(dataset[i]["year"]).toFixed(0));
            annual_debt.push(d)
        }

    }

    function createSVG() {

        // Remove the prior svg.
        x = document.getElementById("svg")
        if (x) {
            d3.select("#svg").remove()
        }

        // Create the a placeholder svg to get row dimensions.
        var column = d3.select("#svgColumn")
        svg = column.append("svg")
            .attr("width", 500)
            .attr("height", 500)
            .attr("id", "placeholder")

        // svgRow.width = document.getElementById("svgRow").offsetWidth
        // svgRow.height = document.getElementById("svgRow").offsetHeight
        svgRow.width = parseInt((document.getElementById("svgRow").getBoundingClientRect().width).toFixed(0))
        svgRow.height = parseInt((document.getElementById("svgRow").getBoundingClientRect().height).toFixed(0))

        d3.select("#placeholder").remove();

        // Create the svg using the column dimensions.
        var row = d3.select("#svgRow")
        var column = row.select("#svgColumn")
        svg = column.append("svg")
            .attr("width", svgRow.width)
            .attr("height", svgRow.height)
            .attr("id", "svg")
        x = document.getElementById("svg")
        if (!x) {
            console.log("failed to created svg.")
        }

        // Create attributes from the dataset.
        // Create chart attributes based on raw sales data and visualization attributes.
        // This takes more memory.  Simpler code during plotting.  Calculate only once.
        // Centralize calculations.
        create_annual_debt()

        // Create bars from the array of attributes.
        svg.selectAll(".bar_chart")
            .data(annual_debt)
            .enter()
            .append("rect")                                                 // Bar chart.
            .attr("x", function (d) { return d.x; })                        // Spaced based on sales datate.
            .attr("y", function (d) { return d.y; })                        // Position at the top of the bar.
            .attr("width", function (d) { return d.width; })                // Fatten the rectangles to fill the view port.
            .attr("height", function (d) { return d.height; })              // Draw from the top of the bar down.
            .attr("class", "bar_chart")                                     // Used for selection.
            .style("fill", function (d) { return d.color; })  // Set the color of the bar.

        // Add data labels from the array of attributes.
        var data_labels = svg.selectAll(".data_label").data(annual_debt)

        // Add data labels.
        data_labels
            .enter()
            .append("text")
            .attr("text-anchor", "middle")
            .text(function (d) { return d.text; })
            .attr("x", function (d) { return d.text_x; })
            .attr("y", function (d) { return d.y + 24; })   // Slide the label down 18 pixels from the top o the bar.                        
            .attr("font-family", "sans-serif")              // Looks clearner.
            .attr("font-size", 12)
            .attr("class", "data_label")                    // Used for selection.
            .style("fill", "white")

        // Add president labels from the array of attributes.
        var president_labels = svg.selectAll(".president_label").data(annual_debt)

        // Add president labels.
        president_labels
            .enter()
            .append("text")
            .attr("text-anchor", "middle")
            .text(function (d) { return d.president; })
            .attr("x", function (d) { return d.text_x; })
            .attr("y", function (d) { return d.y + 48; })   // Slide the label down 18 pixels from the top o the bar.                        
            .attr("font-family", "sans-serif")              // Looks clearner.
            .attr("font-size", 12)
            .attr("class", "president_label")                    // Used for selection.
            .style("fill", "white")

        // Draw a line from the previous d to the current d.
        var lineFunc = d3.line()
            .x(function (d) { return d.text_x; })    // Draw the line segment to the horizontal center of a bar.
            .y(function (d) { return d.y; })    // Draw the line segment to the top of a bar.

        // Draw a shape that is not predefined in anyother of the commands.
        // Pass the data to the lineFunc and let it draw the line.
        var viz = svg.append("path")
            .attr("d", lineFunc(annual_debt))
            .attr("class", "line_chart")        // Used for selection.
            .attr("stroke", "yellow")
            .attr("stroke-width", 2)
            .attr("fill", "none")

        // Add scatter plot data points from the array of attributes.
        var data_points = svg.selectAll(".scatter_plot").data(annual_debt)

        // Add data points for the scatter plot.
        data_points.enter()
            .append("circle")
            .attr("cx", function (d) { return d.text_x; })  // Center the circle to the horizontal center of a bar.
            .attr("cy", function (d) { return d.y; })       // Center the circle to the top of a bar.
            .attr("r", 5)
            .attr("fill", "yellow")
            .attr("class", "scatter_plot")                  // Used for selection.

        // Add bottom axis.
        xAxis.scale(scale_year)
        leftPosition = parseInt((annual_debt[0]["width"] / 2).toFixed(0))
        svg.append("g")
            .attr("id", "xAxisG")
            .attr("class", "x_data_axis")     // Used for selection.
            .attr("transform", "translate(" + leftPosition + "," + (svgRow.height * bottomMargin) + ")")
            .call(xAxis
                .ticks(annual_debt.length)
                .tickFormat(d3.format("9999")))

        // Add vertical axis.
        yAxis.scale(yAxisScale)
        top_position = 0
        svg.append("g")
            .attr("id", "yAxisG")
            .attr("class", "y_data_axis")
            .attr("transform", "translate(0," + top_position + ")")
            .call(yAxis)

        // Draw table of sales data.
        // Do not draw table it it already exists.
        // Limit the height of the column so the scroll bars are enabled.
        x = document.getElementById("table_row")
        if (x) {
            console.log("table_row exists.")
        } else {
            // Create heading row.
            var headingRow = container.append("div")
                .attr("class", "row")
                .attr("id", "headingRow")
            headingRow.append("div")
                .attr("class", "col-sm-3")
                .append("legend")
                .text("Instructions")
            headingRow.append("div")
                .attr("class", "col-sm-2")
                .append("fieldset")
                .append("legend")
                .text("Begin Year")
            headingRow.append("div")
                .attr("class", "col-sm-2")
                .append("fieldset")
                .append("legend")
                .text("End Year")
            headingRow.append("div")
                .attr("class", "col-sm-3")
                .append("fieldset")
                .append("legend")
                .text("Visualizations")

            // Create table row.
            var table_row = container.append("div")
                .attr("class", "row")
                .attr("id", "table_row")

            // Add columns to the table row.
            var instruction_column = table_row.append("div")
                .attr("class", "col-sm-3")
                .attr("id", "instruction_column")
                .attr("style", "color:white; font-family:sans-serif; overflow-y:auto; height:15em; ")
            var begin_year_column = table_row.append("div")
                .attr("class", "col-sm-2")
                .attr("style", "color:white; font-family:sans-serif; overflow-y:auto; height:15em; ")
            var end_year_column = table_row.append("div")
                .attr("class", "col-sm-2")
                .attr("style", "color:white; font-family:sans-serif; overflow-y:auto; height:15em; ")
            var visualization_column = table_row.append("div")
                .attr("class", "col-sm-3")
                .attr("style", "color:white; font-family:sans-serif; overflow-y:auto; height:15em; ")

            // Populate the Instructions unorder list of the table row.
            var instructions = [
                "Select Begin Year.",
                "Select End Year.",
                "Wait for chart to render.",
                "Select Visualization."
            ]
            var ul = instruction_column.append("ul")
            ul.selectAll("li")
                .data(instructions)
                .enter()
                .append("li")
                .html(function (d) { return "<h4>" + d + "</h4>" })


            // Populate the Begin Year column of the table row.
            var begin_year_table = begin_year_column.append("table")
                .attr("class", "table")
                .attr("id", "begin_year_table")
            var begin_year_tbody = begin_year_table.append("tbody")
            begin_year_tbody.selectAll("tr")
                .data(years)
                .enter()
                .append("tr")
                .append("td")
                .append("input")
                .attr("type", "radio")
                .attr("checked", null)
                .attr("name", "begin_year")
                .attr("id", function (d, i) { return "begin_year_" + d })
            begin_year_tbody.selectAll("td")
                .data(years)
                .append("label")
                .attr("for", function (d) { return "begin_year_" + d })
                .html(function (d) { return d })
            begin_year_tbody.selectAll("input")
                .data(years)
                .on('click', function (d) {
                    if (this.checked) {
                        begin_year = d.target.labels[0].innerText
                    }
                })

            // Populate the End Year column of the table row.
            var end_year_table = end_year_column.append("table")
                .attr("class", "table")
                .attr("id", "end_year_table")
            var end_year_tbody = end_year_table.append("tbody")
            end_year_tbody.selectAll("tr")
                .data(years)
                .enter()
                .append("tr")
                .append("td")
                .append("input")
                .attr("type", "radio")
                .attr("checked", null)
                .attr("name", "end_year")
                .attr("id", function (d, i) { return "end_year_" + d })
            end_year_tbody.selectAll("td")
                .data(years)
                .append("label")
                .attr("for", function (d) { return "end_year_" + d })
                .html(function (d) { return d })
            end_year_tbody.selectAll("input")
                .data(years)
                .on('click', function (d) {
                    if (this.checked) {
                        end_year = d.target.labels[0].innerText
                        startUpdate()
                    }
                })

            // Position on the last rows of the Begin Year and End Year tables
            var last_position = years.length - 1
            var rows = document.querySelectorAll("#end_year_table tr")
            rows[last_position].scrollIntoView({ alignToTop: false })
            rows = document.querySelectorAll("#begin_year_table tr")
            rows[last_position - 11].scrollIntoView({ alignToTop: false })

            // Populate the visualization table of the table row.
            // First time through the visualizations, add the visualizations.
            // Second time through the dataset, add the event listener.
            var visualizations = [
                ["Bar Chart", "checkbox_bar_chart", "bar_chart"],
                ["Line Chart", "checkbox_line_chart", "line_chart"],
                ["Labels", "checkbox_data_label", "data_label"],
                ["Presidents", "checkbox_president_label", "president_label"],
                ["Scatter Plot", "checkbox_scatter_plot", "scatter_plot"],
                ["x Axis", "checkbox_x_data_axis", "x_data_axis"],
                ["y Axis", "checkbox_y_data_axis", "y_data_axis"]
            ]
            var visualization_table = visualization_column.append("table")
                .attr("class", "table")
            var visualization_tbody = visualization_table
                .append("tbody")
                .attr("id", "visualization_tbody")
            visualization_tbody.selectAll("tr")
                .data(visualizations)
                .enter()
                .append("tr")
                .append("td")
                .append("input")
                .attr("type", "checkbox")
                .attr("checked", true)
                .attr("name", function (d) { return d[2] })
                .attr("id", function (d) { return d[1] })
            visualization_tbody.selectAll("td")
                .data(visualizations)
                .append("label")
                .attr("for", function (d) { return d[1] })
                .html(function (d) { return d[0] })
            visualization_tbody.selectAll("input")
                .data(visualizations)   // bar_chart, line_chart, data_label, scatter_plot, data_axis
                .on('click', function (d) {
                    var chart_element = "." + d.target.name
                    if (this.checked) {
                        d3.selectAll(chart_element)
                            .classed("hidden", false)
                    } else {
                        d3.selectAll(chart_element)
                            .classed("hidden", true)
                    }
                })

        }

        // Add the scale label.
        if (end_year < "1863") {
            scale_text = "Millions of Dollars"
        } else if (end_year < "1983") {
            scale_text = "Billions of Dollars"
        } else {
            scale_text = "Trillions of Dollars"
        }
        svg.append("text")
            .text(scale_text)
            .attr("id", "scale_text")
            .attr("x", 127)
            .attr("y", 10)
            .style("fill", "white");

        // Select the radio buttons for range 2017 through 2020.
        document.getElementById("begin_year_" + begin_year).click()
        document.getElementById("end_year_" + end_year).click()

    }

    function updateSVG() {

        // Create attributes from the dataset.
        // Create chart attributes based on raw debt data and visualization attributes.
        // This takes more memory.  Simpler code during plotting.  Calculate only once.
        // Centralize calculations.
        create_annual_debt()

        // Update existing bars from the array of attributes.
        var bars = svg.selectAll("rect").data(annual_debt)

        // Determine if the bars are hidden.
        var checkbox_bar_chart = document.getElementById("checkbox_bar_chart")
        if (checkbox_bar_chart.checked) {
            var class_string = "bar_chart"
        } else {
            class_string = "bar_chart hidden"
        }

        // Update existing bars.
        bars.transition()
            .duration(1000)
            .attr("x", function (d) { return d.x; })                    // Space evenly in the view port.
            .attr("y", function (d) { return d.y; })                    // Position at the top of the bar.
            .attr("width", function (d) { return d.width; })                // Fatten the rectangles to fill the view port.
            .attr("height", function (d) { return d.height; })              // Draw from the top of the bar down.
            .attr("class", class_string)
            .style("fill", function (d) { return d.color; })  // Set the color of the bar.

        // Add new bars from the array of attributes.
        bars.enter()
            .append("rect")                                                 // Bar chart.
            .transition()
            .duration(1000)
            .attr("class", class_string)
            .attr("x", function (d) { return d.x; })                    // Space evenly in the view port.
            .attr("y", function (d) { return d.y; })                    // Position at the top of the bar.
            .attr("width", function (d) { return d.width; })                // Fatten the rectangles to fill the view port.
            .attr("height", function (d) { return d.height; })              // Draw from the top of the bar down.
            .style("fill", function (d) { return d.color; })  // Set the color of the bar.

        // Remove the bars not in the array of attributes.
        bars.exit().remove()

        // Update existing data labels from array of attributes.
        var data_labels = svg.selectAll(".data_label").data(annual_debt)

        // Determine if the data labels are hidden.
        var checkbox_data_label = document.getElementById("checkbox_data_label")
        if (checkbox_data_label.checked) {
            var class_string = "data_label"
        } else {
            class_string = "data_label hidden"
        }


        // Update existing data labels.
        data_labels.transition()
            .duration(1000)
            .text(function (d) { return d.text; })
            .attr("x", function (d) { return d.text_x; })
            .attr("y", function (d) {
                if (d.y > ((500 * bottomMargin) - 24)) {
                    return d.y - 24
                } else {
                    return d.y + 24;
                }
            })
            .attr("font-family", "sans-serif")              // Looks clearner.
            .attr("font-size", 12)
            .attr("class", class_string)                    // Used for selection.
            .style("fill", "white")

        // Add data labels.
        data_labels.enter()
            .append("text")
            .text(function (d) { return d.text; })
            .attr("text-anchor", "middle")
            .attr("x", function (d) { return d.text_x; })
            .attr("y", function (d) {
                if (d.y > ((500 * bottomMargin) - 24)) {
                    return d.y - 24
                } else {
                    return d.y + 24;
                }
            })
            .attr("font-family", "sans-serif")              // Looks clearner.
            .attr("font-size", 12)
            .attr("class", class_string)                    // Used for selection.
            .style("fill", "white")

        // Remove data labels.
        data_labels.exit().remove()

        // Update existing president labels from array of attributes.
        var president_labels = svg.selectAll(".president_label").data(annual_debt)

        // Determine if the president labels are hidden.
        var checkbox_president_label = document.getElementById("checkbox_president_label")
        if (checkbox_president_label.checked) {
            var class_string = "president_label"
        } else {
            class_string = "president_label hidden"
        }

        // Update existing president labels.
        president_labels.transition()
            .duration(1000)
            .text(function (d) { return d.president; })
            .attr("x", function (d) { return d.text_x; })
            .attr("y", function (d) {
                if (d.y > ((500 * bottomMargin) - 48)) {
                    return d.y - 48
                } else {
                    return d.y + 48;
                }
            })
            .attr("font-family", "sans-serif")              // Looks clearner.
            .attr("font-size", 12)
            .attr("class", class_string)                    // Used for selection.
            .style("fill", "white")

        // Add president labels.
        president_labels.enter()
            .append("text")
            .text(function (d) { return d.president; })
            .attr("text-anchor", "middle")
            .attr("x", function (d) { return d.text_x; })
            .attr("y", function (d) {
                if (d.y > ((500 * bottomMargin) - 48)) {
                    return d.y - 48
                } else {
                    return d.y + 48;
                }
            })
            .attr("font-family", "sans-serif")              // Looks clearner.
            .attr("font-size", 12)
            .attr("class", class_string)                    // Used for selection.
            .style("fill", "white")

        // Remove president labels.
        president_labels.exit().remove()

        // Draw a line from the previous d to the current d.
        var lineFunc = d3.line()
            .x(function (d) { return d.text_x; })    // Draw the line segment to the horizontal center of a bar.
            .y(function (d) { return d.y; })    // Draw the line segment to the top of a bar.

        // Draw a shape that is not predefined in anyother of the commands.
        // Pass the data to the lineFunc and let it draw the line.
        var viz = svg.select("path")
            .transition()
            .duration(1000)
            .attr("d", lineFunc(annual_debt))
            .attr("stroke", "yellow")
            .attr("stroke-width", 2)
            .attr("fill", "none")

        // Update existing scatter plot from the array of attributes.
        var data_points = svg.selectAll(".scatter_plot").data(annual_debt)

        // Determine if the data_points are hidden.
        var checkbox_scatter_plot = document.getElementById("checkbox_scatter_plot")
        if (checkbox_scatter_plot.checked) {
            var class_string = "scatter_plot"
        } else {
            class_string = "scatter_plot hidden"
        }

        // Update exising data points.
        data_points.transition()
            .duration(1000)
            .attr("class", class_string)
            .attr("cx", function (d) { return d.text_x; })   // Center the circle to the horizontal center of a bar.
            .attr("cy", function (d) { return d.y; })   // Center the circle to the top of a bar.

        // Add data points.
        data_points.enter()
            .append("circle")
            .attr("cx", function (d) { return d.text_x; })   // Center the circle to the horizontal center of a bar.
            .attr("cy", function (d) { return d.y; })   // Center the circle to the top of a bar.
            .attr("r", 5)
            .attr("fill", "yellow")
            .attr("class", class_string)                  // Used for selection.

        // Remove data points.
        data_points.exit().remove()

        // Limit the number of horizontal ticks.
        if (annual_debt.length > 20) {
            var number_of_ticks = 20
        } else {
            number_of_ticks = annual_debt.length
        }

        // Reposition the x axis.
        xAxis.scale(scale_year)
        leftPosition = parseInt((annual_debt[0]["width"] / 2).toFixed(0))
        svg.select("#xAxisG")
            .attr("transform", "translate(" + leftPosition + "," + (svgRow.height * bottomMargin) + ")")
            .call(xAxis
                .ticks(number_of_ticks)
                .tickFormat(d3.format("9999")))

        // Reposition the y axis.
        yAxis.scale(yAxisScale)
        top_position = 0
        svg.select("#yAxisG")
            .transition()
            .duration(1000)
            .attr("transform", "translate(0," + top_position + ")")
            .call(yAxis)

        // Update the scale text.
        if (end_year < "1863") {
            svg.select("#scale_text")
                .text("Millions of Dollars")
        } else if (end_year < "1983") {
            svg.select("#scale_text")
                .text("Billions of Dollars")
        } else {
            svg.select("#scale_text")
                .text("Trillions of Dollars")
        }




    }

    function startUpdate() {
        resize = false;
        get_historical_debt_outstanding_annual();
    }

    function startResize() {
        resize = true;
        get_historical_debt_outstanding_annual();
    }

    // Using bootstrap, create row and column for the svg.
    var body = d3.select("body")
    body.attr("onresize", "startResize()")

    var container = body.append("div")
        .attr("class", "container-fluid")

    var row = container.append("div")
        .attr("class", "row")
        .attr("id", "svgRow")

    var column = row.append("div")
        .attr("class", "col-sm-12")
        .attr("id", "svgColumn")

    get_historical_debt_outstanding_annual_years()
    startResize()





</script>
{% endblock %}